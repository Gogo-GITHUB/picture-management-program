# 图片管理程序

#### 介绍
（1）系统分析  
        1.1 问题描述         
         题目目的是编写一个能够对数字像片进行管理的应用程序。 程序能够显示的图片格式包括,.JPG、.JPEG、.GIF、.PNG、和.BMP。 图像文件尺寸,要求能够处理从几十 K 到几 M 的各种大小的图片。
    1.2 系统功能分析          
     1.2.1 系统的主要功能 有目录树（显示系统磁盘目录） 图片的预览（展示缩略图、缩略图包含图片、文件名且保持比例） 支持规定的图片格式（.JPG、.JPEG、.GIF、.PNG、和.BMP。） 选择图片（单张多张，鼠标选择一个区域） 图片删除（选择图片之后可以进行删除） 图片复制（选择图片之后可以进行复制） 图片重命名功能（选择图片之后可以进行单个或者批量重命名） 窗口中显示一张图片和一个功能栏。
1.2.2 入图片展示窗口的方式 
第 1 种方式是鼠标左键双击任意一个缩略图进入该窗口并显示 双击的图片。第 2 种是在设计一个按钮,点击进入该窗口并显示当前 图片预览目录中的第 1 张图。 1.2.3 图片展示窗口基本功能 图片的放大缩小功能,鼠标点击功能栏中这“放大”和“缩小” 按钮可以对图片进行放大和缩小。 切换图片功能,鼠标点击功能栏“左”和“右”按钮,可以将显 示的图片切换到当前预览目录中的前一张和后一张图片。 幻灯片播放功能,在功能栏中设计一个“播放”按钮,点击该按 钮可以从当前显示图片开始自动以确定的间隔时间(如 1 秒)切换显 示图片。有退出播放功能。
        1.3 开发平台及工具介绍 1.3.1 开发工具
java源代码本质上其实就是普通的文本文件，所以理论上来说任何可以编 辑文本文件 的编辑器都可以作为我们的 java 代码编辑工具。比如：WINDOWS 记事本、写字板、word 等。但是这些简单工具没有语法的高亮提示、自动完成等 功能，这些功能的缺失会大大降低代码的编写效率。所以学习开发时我们不会 选用这些简单文本编辑工具。我们选用一些功能比较强大工具  Eclipse IDE 和 IntelliJ IDEA
1.3.2 代码管理工具
这次 java 项目是团队开发，当多人共同编写一个项目的时候。代码的整合 就需要用到专门的源码管理工具了。另外 java项目版本的不断更新，也需要 版本的管理。 Git是一个开源的分布式版本控制系统，可以有效、高速的处理从很小到 非常大的项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核 开发而开发的一个开放源码的版本控制软件。
                     （2）系统设计
        1.1 系统总体结构设计             项目由 3个主要界面组成： 1.1.1 图片文件预览窗口 图片文件预览窗口界面中的构建在 ui包中的 MainUi类中进行。 图片文件预览窗口界面中的功能依赖于 mainuiutil 包中的工具类以 及在staticutil包中的 MainUtil中的静态方法实现。 1.1.2 图片展示窗口 图片展示窗口的构建在 ui包中的 ImageShowUi 类中进行。 图片展示窗口中的功能依赖于 imageshowuiutil 包中的工具类实现。 1.1.3 图片编辑窗口 图片编辑窗口由 imageshowuiutil 包中的工具类被调用时构建出来。        1.2 系统各个类及类之间关系设计               1.2.1 各个类之前的关系                      MainUi 类为主界面的构建类，MainUi类对主界面进行初始化以及 对一些必要的组件进行加载，例如构建目录树，显示缩略图。当主界 面的功能按键被点击时，对其对应的工具类进行调用。当要进入图片 展示窗口时，调用 ImageShowUi 类构建图片展示窗口，当入图片展 示窗口的功能按键被点击时，对其对应的工具类进行调用。
1.2.2 MainUi 类及其工具类的详细类图
1.2.3  ImageShowUi 类及其工具类的详细类图
  
        1.4 界面设计 1.4.1 图片文件预览窗口
            1.4.2 图片展示窗口
         1.4.3 图片编辑窗口
        
   （3）系统实现           1.1 程序运行的流程图
1.2.复制粘贴模块
1.3 删除和重命名模块
1.4   截图模块
1.5目录树构建和缩略图显示模块
1.6改变图片尺寸和添加水印模块
1.7旋转图片和添加滤镜模块
1.8 压缩图片和转换图片格式模块（4）系统测试
        模块测试：测试各模块的测试        系统测试：系统功能的完整测试
测试数据：在C盘的桌面上新建了一个文件夹，里面放了17张图片来进行测试。 功能：1.支持规定的图片格式    2.目录树实现且操作正常 3. 缩略图包含图片、文件名且保持比例   4.点击目录显示缩略图及个数 预期结果：成功显示目录树，并且显示当前文件夹中的图片图片，以及文件夹中的图片数 运行结果：
结论：功能1，2，3，4测试成功 功能5：缩略图复制粘贴  6. 缩略图单选 预期结果：单击图片可选中，同时复制后文件夹中出现两个图片 1 运行结果：先单击想操作的图片，再右键进行复制操作
结论：在文件夹中能正常显示，功能5，6测试成功
功能7：缩略图单个重命名 预期结果：单张图片名字修改成功
运行结果：先右键进行重命名操作
将文件重命名为复制.jpg
在文件夹中查看，已改名成功
结论：功能7 测试成功
功能8：缩略图多选  
 9：缩略图批量重命名 预期结果：文件夹中图片可多选，并且能批量自动重命名 运行结果：可用ctrl进行多选操作，也可直接拉框进行图片多选
随后在空白处单击右键出现选框
进行重命名操作

随后改名成功，在文件夹中也正确显示
结论：功能8、9测试成功
功能10：缩略图删除 预期结果：成功删除文件夹中某张照片 运行结果：选中图片右键选择删除
删除后自动刷新页面
同时在文件夹中也自动删除
结论：功能10测试成功，成功删除
功能11：图片展示的图片切换 预期结果：正确进行图片的上一张和下一张选择，并且在第一张和最后一张时相应的没有 上一张和下一张的选项 运行结果：
第一张图片打开后没有上一张的选项
在中间的图片可以进行上一张与下一张
最后一张图片没有下一张的选项，同时无法进行幻灯片的播放
结论：图片的切换成功，功能11测试成功
功能12：图片展示的图片放大缩小 预期结果：图片可以随时放大缩小 运行结果： 图片可以放大
图片也可以缩小
结论：功能13测试成功，图片可以随时放大缩小
功能14：幻灯片播放 预期结果：点击自动播放后，图片会像 PPT 一样自动进入下一张，且点击暂停播放时会暂 停切换。 运行结果： 点击自动播放后自动进行下一张
到达最后一张图片时暂停播放，并且能进行其余操作
结论：功能14测试成功
功能15：6种滤镜功能以及保存 预期功能：6种滤镜支持预览和保存图片 运行结果： 先复制6张图片，用来保存使用滤镜后的图片
以Emboss滤镜为例子：点击之后出现预览框
点击关闭，会出现是否保存
点击否就会关闭预览框，点击是就会保存，并且刷新当前图片为使用滤镜后的图片
使用6种滤镜并分别保存后，返回原界面并刷新，可以看到已经全部变为使用滤镜后的图 片
结论：功能15测试成功，滤镜功能可以正常使用。
功能16：截图并保存功能 预期结果，点击截图后，可以进行在当前页面自由截图，并自己选择保存位置 运行结果： 点击左上角工具的截图功能
就会像其他截图工具一样进入截图界面，可以自由选择区域进行截图
截图完毕后会弹出刚截完的图片
可以进行预览，随后点击右上角关闭，会弹出是否保存
若点击否，就会返回原界面，点击是，会进入选择文件夹保存的界面
我们保存在与操作的图片一样的目录下
点击保存后打开文件夹
可以看到已经保存在所选的文件夹中 结论：功能16测试成功，可以进行截图操作。
功能17：图片旋转功能 预期结果：图片能自由旋转角度，并可以保存 运行结果：点击旋转后出现旋转预览框
可以自由选择旋转的角度
点击保存，就会覆盖原图片，成功保存
结论：功能17保存成功，图片可以自由旋转。

功能18：水印添加 预期结果：对当前预览的图片添加自己喜欢的水印 运行结果： 点击左上角菜单栏，会出现三种水印放置位置选择，这里以水印左侧放置为例子
选择一张照片进行添加后，会出现预览图没还能调整水印透明度
点击保存后，会覆盖原图片，原图片就会变成一张有水印的照片
结论：功能18测试成功，图片可以进行水印添加并保存

功能19：图片按比例调整 预期结果：图片可以按比例放大缩小，并且保存到原图片中 运行结果：在菜单中点击按比例缩放后，出现新的预览框，在上面可以按喜好自由缩放和 放大。
点击保存后，图片自动覆盖，图片变大为自己设置好的放大或缩小
结论：功能19测试成功，可以按比例放大缩小
功能20：按长宽压缩图片： 预期结果：可以按照自己喜欢的长宽比例压缩图片 运行结果： 点击按长宽比例压缩后，出现预览框，在上面可以自由调整长宽比例
点击保存后，覆盖原图片
结论：功能20测试成功，图片可以自己选择长宽分别按比例缩小放大
功能21：图片格式转换 预期结果：图片可以按照自己选的格式进行更换 运行结果： 点击图片切换，在出来的列表中选择其他图片格式，这里以png格式为例子
点击确定后，在目录下保存成功
同时在文件夹中可以查看，出现了png格式的图片
结论：功能21测试成功，图片可以转换格式。
功能22：压缩图片 预期结果：可以自由选择压缩比例 运行结果： 首先，这张图片大小为45.3KB，
这里以40%例子
压缩完之后，图片清晰度变小，同时图片大小变小
结论：图片压缩成功，清晰度变低，大小变小，功能22测试成功。
   （5）系统运行界面         1.1 图片文件预览窗口
 
     2.图片展示窗口
       3.图片编辑界面
        选取主要界面的截图。 